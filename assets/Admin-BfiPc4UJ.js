import{r as n,j as e,B as h,C as b}from"./index-Bd9urWjT.js";const y=()=>{const[t,l]=n.useState({type:"",image:null,url:""}),[o,i]=n.useState(!1),[u,d]=n.useState(null),[c,m]=n.useState(null),p=s=>{const{name:a,value:r}=s.target;l({...t,[a]:r})},g=s=>{l({...t,image:s.target.files[0]})},x=async s=>{var r;s.preventDefault(),i(!0),d(null),m(null);const a=new FormData;a.append("type",t.type),a.append("description",t.description),a.append("url",t.url),t.image&&a.append("image",t.image);try{await h.post(`${b}/data/post`,a,{headers:{"Content-Type":"multipart/form-data"}}),d("Data posted successfully!"),l({type:"",description:"",image:null,url:""})}catch(f){m(((r=f.response)==null?void 0:r.data)||"Failed to post data")}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen w-screen flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md mx-auto dark:bg-secondary text-primary bg-primary p-6 rounded-lg shadow-lg mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Post New Data"}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-600",children:"Type"}),e.jsx("input",{type:"text",id:"type",name:"type",value:t.type,onChange:p,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-300"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-600",children:"Upload Image"}),e.jsx("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:g,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-300"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-600",children:"URL"}),e.jsx("input",{type:"url",id:"url",name:"url",value:t.url,onChange:p,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-300"})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white font-semibold py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring focus:ring-blue-300 transition duration-200",children:o?"Posting...":"Submit"})]}),u&&e.jsx("p",{className:"mt-4 text-green-600 font-medium",children:u}),c&&e.jsx("p",{className:"mt-4 text-red-600 font-medium",children:c})]})})},N=()=>e.jsx("div",{children:e.jsx(y,{})});export{N as default};
